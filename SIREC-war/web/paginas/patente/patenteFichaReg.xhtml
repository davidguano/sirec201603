<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <!--FICHA DE PATENTE-->
    <h:panelGrid>
        <center>
            <h:panelGrid id="pnlContienePatente" width="1000" columns="1" >
                <p:panel style="background: #C5D9F1" header="#{txt.lbl_header_patente}">
                    <h:panelGrid columns="1">
                        <h:panelGrid columns="3">
                            <p:outputLabel style="font-size: #{txt.font_size};" value="#{txt.lbl_num_patente}"/>
                            <p:inputText requiredMessage="#{txt.lbl_num_patente} Se necesita un valor" disabled="true" id="compPnl1_1" value="#{gestionPatenteControlador.numPatente}"  
                                         size="40"/>
                            <p:message for="compPnl1_1" display="icon"/>  
                        </h:panelGrid>
                        <h:panelGrid columns="6"> 
                            <h:panelGrid id="pnlBuscaProPatente" columns="2">
                                <p:column>
                                    <h:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_clave_catastrat}"/>
                                    <p:inputText id="codN" value="#{gestionPatenteControlador.catastroPredBusca}"
                                                 required="true" requiredMessage="Valor requerido" maxlength="19" size="17"
                                                 style="color:white;font-weight: bold;background: black;"
                                                 onkeypress="return isNumberKey(event);"/>
                                </p:column>
                                <p:commandButton id="btnBuscarPorClave"
                                                 value="Buscar" async="true" global="false"
                                                 action="#{gestionPatenteControlador.cargarInformacionPropietario()}"
                                                 process="@this,pnlBuscaProPatente"
                                                 update="panlDatosPropietario,:frmPat:msgs"
                                                 onstart="PF('dlgValidando').show();" onsuccess="PF('dlgValidando').hide();"
                                                 icon="fa fa-search"/>
                            </h:panelGrid>

                            <h:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_estado}"/>
                            <p:selectOneMenu requiredMessage="#{txt.lbl_estado} Se necesita un valor" required="true" id="cmbIdentEstado" 
                                             value="#{gestionPatenteControlador.catDetIdentEstadoActual}" style="width:250px"
                                             converter="#{catalogoDetalleConverter}" var="t">
                                <f:selectItem  itemLabel="#{gestionPatenteControlador.catDetIdentEstadoActual.setCatdetCodigo(449)}" itemValue="" /> 
                                <f:selectItems var="tipTem"  
                                               value="#{gestionPatenteControlador.listaIdentEstado}" 
                                               itemLabel="#{tipTem.catdetTexto}" 
                                               itemValue="#{tipTem}"/> 
                                <p:ajax update="pnlConContrasenia" listener="#{gestionPatenteControlador.activaGeneraContrasenia()}" process="@this" ></p:ajax>
                                <p:column width="200" style="white-space: normal">  
                                    <h:outputText escape="false" value="#{t.catdetTexto}" style="font-size: 10px"/> 
                                </p:column> 
                            </p:selectOneMenu>                               
                            <p:message for="cmbIdentEstado" display="icon"/>
                        </h:panelGrid>
                        <h:panelGrid columns="6" id="pnlConContrasenia">
                            <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_nombre_comercial}"/>
                            <p:inputText requiredMessage="#{txt.lbl_nombre_comercial} Se necesita un valor"  id="compPnl1_4"  value="#{gestionPatenteControlador.patenteActual.patNombreComercial}" 
                                         maxlength="100" size="40"/>
                            <p:message for="compPnl1_4" display="icon"/>

                            <p:commandButton rendered="#{gestionPatenteControlador.verGeneraContrasenia==1}"  id="btnGenerarCon"
                                             value="Generar Contraseña" async="true" global="false"
                                             action="#{gestionPatenteControlador.generaContrasenia()}"
                                             process="@this,pnlBuscaProPatente"
                                             update="pnlContrasenia,:frmPat:msgs"
                                             onstart="PF('dlgValidando').show();" onsuccess="PF('dlgValidando').hide();"
                                             icon="fa fa-search"/>
                            <p:column rendered="#{gestionPatenteControlador.verGeneraContrasenia==1}" ></p:column>
                            <h:panelGrid id="pnlContrasenia">
                                <p:panel rendered="#{gestionPatenteControlador.verGeneraContrasenia==1}">
                                    <p:outputLabel style="font-size: 14px;font-weight: bold" rendered="#{gestionPatenteControlador.verGeneraContrasenia==1}"   value="Contraseña:"/>
                                    <p:outputLabel style="font-size: 14px;color: crimson;font-weight: bold" rendered="#{gestionPatenteControlador.verGeneraContrasenia==1}"  value="#{gestionPatenteControlador.contraseniaUsuario}"/>
                                </p:panel>
                            </h:panelGrid>

                        </h:panelGrid>
                        <p:panel>
                            <h:panelGrid id="panlDatosPropietario" columns="6">
                                <p:outputLabel  style="font-size: #{txt.font_size}" value="#{txt.lbl_cedula}"/>
                                <p:inputText style="background: lightgreen;color:black;font-weight: bold" requiredMessage="#{txt.lbl_cedula} Se necesita un valor"  disabled="#{gestionPatenteControlador.habilitaCamposPropietario}" id="compPnl1_2"  value="#{gestionPatenteControlador.propietarioActual.proCi}" 
                                             maxlength="20" size="40"/>
                                <p:message for="compPnl1_2" display="icon"/>

                                <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_propietario}"/>
                                <p:inputText style="background: lightgreen;color:black;font-weight: bold" requiredMessage="#{txt.lbl_propietario} Se necesita un valor" disabled="#{gestionPatenteControlador.habilitaCamposPropietario}"   id="compPnl1_3"  value="#{gestionPatenteControlador.propietarioActual.proRazonSocial}" 
                                             size="40"/>
                                <p:message for="compPnl1_3" display="icon"/>

                                <p:outputLabel  style="font-size: #{txt.font_size}" value="#{txt.lbl_direccion}"/>
                                <p:inputTextarea    requiredMessage="#{txt.lbl_direccion} Se necesita un valor" style="width: 200px;background: lightgreen;color:black;font-weight: bold" disabled="#{gestionPatenteControlador.habilitaCamposPropietario}" id="compPnl1_5"  value="#{gestionPatenteControlador.propietarioActual.proDireccion}" 
                                                    />
                                <p:message for="compPnl1_5" display="icon"/>

                                <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_parroquia}"/>
                                <p:selectOneMenu requiredMessage="#{txt.lbl_parroquia} Se necesita un valor" disabled="#{gestionPatenteControlador.habilitaCamposPropietario}"  required="true" id="cmbPropParroquia" 
                                                 value="#{gestionPatenteControlador.catDetParroquia}" style="width:250px"
                                                 converter="#{catalogoDetalleConverter}" var="t">
                                    <f:selectItem  itemLabel="Seleccione..." itemValue="" /> 
                                    <f:selectItems var="tipTem"  
                                                   value="#{gestionPatenteControlador.listaCatDetParroquias}" 
                                                   itemLabel="#{tipTem.catdetTexto}" 
                                                   itemValue="#{tipTem}"/> 
                                    <p:column width="200" style="white-space: normal">  
                                        <h:outputText escape="false" value="#{t.catdetTexto}" style="font-size: 10px"/> 
                                    </p:column> 
                                </p:selectOneMenu>                               
                                <p:message for="cmbPropParroquia" display="icon"/>


                                <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_sector}"/>
                                <p:inputText style="background: lightgreen;color:black;font-weight: bold" requiredMessage="#{txt.lbl_sector} Se necesita un valor" disabled="#{gestionPatenteControlador.habilitaCamposPropietario}"  id="compPnl1_7"  value="#{gestionPatenteControlador.propietarioActual.catdetCiudad.catdetTexto}" 
                                             size="40"/>
                                <p:message for="compPnl1_7" display="icon"/>

                                <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_telefono}"/>
                                <p:inputText style="background: lightgreen;color:black;font-weight: bold" requiredMessage="#{txt.lbl_telefono} Se necesita un valor" disabled="#{gestionPatenteControlador.habilitaCamposPropietario}" id="compPnl1_8"  value="#{gestionPatenteControlador.propietarioActual.proTelefono}" 
                                             size="40"/>
                                <p:message for="compPnl1_8" display="icon"/>

                                <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_correo}"/>
                                <p:inputText  style="background: lightgreen;color:black;font-weight: bold" requiredMessage="#{txt.lbl_correo} Se necesita un valor" disabled="#{gestionPatenteControlador.habilitaCamposPropietario}" id="compPnl1_9"  value="#{gestionPatenteControlador.propietarioActual.proCorreo}" 
                                              size="40"/>
                                <p:message for="compPnl1_9" display="icon"/>
                                <p:column/>
                                <h:panelGrid columns="3">
                                    <p:commandButton value="#{txt.btn_editar}" process="@this,panlDatosPropietario" update="panlDatosPropietario"
                                                     action="#{gestionPatenteControlador.habilitaCamposPropietario()}"/>
                                    <!--  <p:commandButton ajax="false" process="@this,panlDatosPropietarioNuevo" value="{txt.btn_agregar}" onclick="PF('dlgNPro').show();"/> -->
                                    <p:commandButton process="@this,panlDatosPropietario" update="panlDatosPropietario,frmPat:msgs" value="#{txt.btn_actualizar}" action="#{gestionPatenteControlador.actualizaDatosPropietario()}"/>
                                </h:panelGrid>
                                <p:column/>
                            </h:panelGrid>
                        </p:panel>
                        <h:panelGrid columns="3">
                            <p:outputLabel style="font-size: #{txt.font_size}"  value="#{txt.lbl_representante}"/>
                            <p:inputText requiredMessage="#{txt.lbl_representante} Se necesita un valor"  disabled="false" id="compPnl1_10"  value="#{gestionPatenteControlador.patenteActual.patRepresentanteLegal}" 
                                         maxlength="50" size="40"/>
                            <p:message for="compPnl1_10" display="icon"/>

                            <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_contado}"/>
                            <p:inputText requiredMessage="#{txt.lbl_contado} Se necesita un valor"  disabled="false" id="compPnl1_11"  value="#{gestionPatenteControlador.patenteActual.patContador}" 
                                         maxlength="50" size="40"/>
                            <p:message for="compPnl1_11" display="icon"/>

                            <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_ruc_contador}"/>
                            <p:inputText requiredMessage="#{txt.lbl_ruc_contador} Se necesita un valor" disabled="false" id="compPnl1_11ext"  value="#{gestionPatenteControlador.patenteActual.patRucContador}" 
                                         maxlength="20" size="40"/>
                            <p:message for="compPnl1_11ext" display="icon"/>
                        </h:panelGrid>
                    </h:panelGrid>
                </p:panel>
                <p:panel style="background: antiquewhite">
                    <h:panelGrid columns="6">
                        <h:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_establecimiento}"/>
                        <p:selectOneMenu requiredMessage="#{txt.lbl_establecimiento} Se necesita un valor" required="true" id="cmbEstablecimiento" 
                                         value="#{gestionPatenteControlador.catDetEstablecimientoActual}" style="width:250px"
                                         converter="#{catalogoDetalleConverter}" var="t">
                            <f:selectItem  itemLabel="Seleccione..." itemValue="" /> 
                            <f:selectItems var="tipTem"  
                                           value="#{gestionPatenteControlador.listEstablecimiento}" 
                                           itemLabel="#{tipTem.catdetTexto}" 
                                           itemValue="#{tipTem}"/> 
                            <p:column width="200" style="white-space: normal">  
                                <h:outputText escape="false" value="#{t.catdetTexto}" style="font-size: 10px"/> 
                            </p:column> 
                        </p:selectOneMenu>                               
                        <p:message for="cmbEstablecimiento" display="icon"/>

                        <h:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_tipo_empresa}"/>
                        <p:selectOneMenu  requiredMessage="#{txt.lbl_tipo_empresa} Se necesita un valor" required="true" id="cmbTipEmpresa" 
                                          value="#{gestionPatenteControlador.catDetTipoEmpresActual}" style="width:250px"
                                          converter="#{catalogoDetalleConverter}" var="t">
                            <f:selectItem  itemLabel="Seleccione..." itemValue="" /> 
                            <f:selectItems var="tipTem"  
                                           value="#{gestionPatenteControlador.listaTipoEmpresa}" 
                                           itemLabel="#{tipTem.catdetTexto}" 
                                           itemValue="#{tipTem}"/> 
                            <p:column width="200" style="white-space: normal">  
                                <h:outputText escape="false" value="#{t.catdetTexto}" style="font-size: 10px"/> 
                            </p:column> 
                        </p:selectOneMenu>                               
                        <p:message for="cmbTipEmpresa" display="icon"/>

                        <h:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_tipo_local}"/>
                        <p:selectOneMenu requiredMessage="#{txt.lbl_tipo_local} Se necesita un valor"  required="true" id="cmbTipLocal" 
                                         value="#{gestionPatenteControlador.catDetTipoLocalActual}" style="width:250px"
                                         converter="#{catalogoDetalleConverter}" var="t">
                            <f:selectItem  itemLabel="Seleccione..." itemValue="" /> 
                            <f:selectItems var="tipTem"  
                                           value="#{gestionPatenteControlador.lisTipoLocal}" 
                                           itemLabel="#{tipTem.catdetTexto}" 
                                           itemValue="#{tipTem}"/> 
                            <p:column width="200" style="white-space: normal">  
                                <h:outputText escape="false" value="#{t.catdetTexto}" style="font-size: 10px"/> 
                            </p:column> 
                        </p:selectOneMenu>                               
                        <p:message for="cmbTipLocal" display="icon"/>

                        <h:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_tipo_actividad_economica}"/>
                        <p:selectOneMenu  requiredMessage="#{txt.lbl_tipo_actividad_economica} Se necesita un valor"  required="true" id="cmbTipActividadEco" 
                                          value="#{gestionPatenteControlador.catDetTipActEcoActual}" style="width:250px"
                                          converter="#{catalogoDetalleConverter}" var="t">
                            <f:selectItem  itemLabel="Seleccione..." itemValue="" /> 
                            <f:selectItems  var="tipTem"  
                                            value="#{gestionPatenteControlador.listTipoActEconomica}" 
                                            itemLabel="#{tipTem.catdetTexto}" 
                                            itemValue="#{tipTem}"/> 
                            <p:ajax update="panelContienePlaca" listener="#{gestionPatenteControlador.activaIngresarPlaca()}" process="@this" ></p:ajax>
                            <p:column width="200" style="white-space: normal">  
                                <h:outputText escape="false" value="#{t.catdetTexto}" style="font-size: 10px"/> 
                            </p:column> 

                        </p:selectOneMenu>                               
                        <p:message for="cmbTipActividadEco" display="icon"/>
                    </h:panelGrid>
                    <h:panelGrid id="panelContienePlaca" columns="3" >
                        <p:outputLabel rendered="#{gestionPatenteControlador.verIngresaPlaca==1}"   style="font-size: #{txt.font_size}" value="#{txt.lbl_placa}"/>
                        <p:inputText rendered="#{gestionPatenteControlador.verIngresaPlaca==1}"  requiredMessage="#{txt.lbl_placa} Se necesita un valor" maxlength="20" size="40"   id="txtPlaca"  value="#{gestionPatenteControlador.patenteActual.patPlaca}" 
                                     />
                        <p:message rendered="#{gestionPatenteControlador.verIngresaPlaca==1}"   for="txtPlaca" display="icon"/>
                    </h:panelGrid>
                    <h:panelGrid columns="3">
                        <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_des_actividad_economica}"/>
                        <p:inputTextarea requiredMessage="#{txt.lbl_des_actividad_economica} Se necesita un valor" style="width: 200px" id="compPnl1_16"  value="#{gestionPatenteControlador.patenteActual.patDescActEco}" 
                                         />
                        <p:message for="compPnl1_16" display="icon"/>

                        <p:outputLabel style="font-size: #{txt.font_size}" for="button" value="#{txt.lbl_inicio_actividad}"/>                               
                        <p:calendar required="true" requiredMessage="#{txt.lbl_inicio_actividad} Se necesita un valor" id="button" value="#{gestionPatenteControlador.fecActividadEconomica}" showOn="button" />
                        <p:message for="button" display="icon"/>
                    </h:panelGrid>
                    <h:panelGrid columns="6">
                        <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_artesano}"/>
                        <p:selectBooleanButton required="true" requiredMessage="#{txt.lbl_artesano} Se necesita un valor" id="compPnl1_18" value="#{gestionPatenteControlador.artesCalificado}" onLabel="Si" offLabel="No" style="width:60px" />
                        <p:message for="compPnl1_18" display="icon"/>

                        <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_obl_lleva_contab}"/>
                        <p:selectBooleanButton  required="true" requiredMessage="#{txt.lbl_obl_lleva_contab} Se necesita un valor" id="compPnl1_19" value="#{gestionPatenteControlador.llevaConta}" onLabel="Si" offLabel="No" style="width:60px" />
                        <p:message for="compPnl1_19" display="icon"/>
                    </h:panelGrid>
                    <h:panelGrid columns="6">
                        <h:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_horario_funcionamiento}"/>
                        <p:selectOneMenu  requiredMessage="#{txt.lbl_horario_funcionamiento}  Se necesita un valor" required="true" id="cmbHorarioFun" 
                                          value="#{gestionPatenteControlador.catDetHorFuncionaActual}" style="width:250px"
                                          converter="#{catalogoDetalleConverter}" var="t">
                            <f:selectItem  itemLabel="Seleccione..." itemValue="" /> 
                            <f:selectItems var="tipTem"  
                                           value="#{gestionPatenteControlador.listaHorarioFunciona}" 
                                           itemLabel="#{tipTem.catdetTexto}" 
                                           itemValue="#{tipTem}"/> 
                            <p:column width="200" style="white-space: normal">  
                                <h:outputText escape="false" value="#{t.catdetTexto}" style="font-size: 10px"/> 
                            </p:column> 
                        </p:selectOneMenu>   
                        <p:message for="cmbHorarioFun" display="icon"/>
                    </h:panelGrid>
                    <h:panelGrid columns="6">                                
                        <p:outputLabel style="font-size: #{txt.font_size}" for="compPnl1_21" value="#{txt.lbl_desde}"/>
                        <p:calendar requiredMessage="#{txt.lbl_desde} Se necesita un valor" id="compPnl1_21" value="#{gestionPatenteControlador.horarioDesde}" pattern="HH:mm" timeOnly="true"  />
                        <p:message for="compPnl1_21" display="icon"/>

                        <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_hasta}"/>
                        <p:calendar requiredMessage="#{txt.lbl_hasta} Se necesita un valor" id="compPnl1_22" value="#{gestionPatenteControlador.horarioHasta}" pattern="HH:mm" timeOnly="true"  />
                        <p:message for="compPnl1_22" display="icon"/>
                    </h:panelGrid>
                    <h:panelGrid>
                        <p:outputLabel  style="font-size: #{txt.font_size}" value="#{txt.lbl_dias_funcionamiento}"/>
                        <h:panelGrid columns="14" id="compPnl1_23">
                            <h:outputText value="Lunes" />
                            <p:selectBooleanCheckbox value="#{gestionPatenteControlador.d1}" />
                            <h:outputText value="Martes" />
                            <p:selectBooleanCheckbox value="#{gestionPatenteControlador.d2}" />
                            <h:outputText value="Miercoles" />
                            <p:selectBooleanCheckbox value="#{gestionPatenteControlador.d3}" />
                            <h:outputText value="Jueves" />
                            <p:selectBooleanCheckbox value="#{gestionPatenteControlador.d4}" />
                            <h:outputText value="Viernes" />
                            <p:selectBooleanCheckbox value="#{gestionPatenteControlador.d5}" />
                            <h:outputText value="Sabado" />
                            <p:selectBooleanCheckbox value="#{gestionPatenteControlador.d6}" />
                            <h:outputText value="Domingo" />
                            <p:selectBooleanCheckbox value="#{gestionPatenteControlador.d7}" />
                        </h:panelGrid>
                        <p:message for="compPnl1_23" display="icon"/>
                    </h:panelGrid>

                </p:panel>
                <p:panel style="background:#80c9c6">
                    <h:panelGrid columns="6" >
                        <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_area_local}"/>
                        <p:inputText required="true" requiredMessage="#{txt.lbl_area_local} Se necesita un valor"  id="compPnl1_24" value="#{gestionPatenteControlador.patenteActual.patAreaLocal}"  
                                     size="40"   />
                        <p:message for="compPnl1_24" display="icon"/>  

                        <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_aforo}"/>
                        <p:inputText required="true" requiredMessage="#{txt.lbl_aforo} Se necesita un valor"   id="compPnl1_25"  value="#{gestionPatenteControlador.patenteActual.patLocalAforo}" 
                                     maxlength="20" size="40"/>
                        <p:message for="compPnl1_25" display="icon"/>

                        <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_categoria_tur}"/>
                        <p:inputText requiredMessage="#{txt.lbl_categoria_tur} Se necesita un valor"  id="compPnl1_26"  value="#{gestionPatenteControlador.patenteActual.patCategoriaTuristica}" 
                                     maxlength="20" size="40"/>
                        <p:message for="compPnl1_26" display="icon"/>

                        <p:outputLabel  style="font-size: #{txt.font_size}" value="#{txt.lbl_registro_tur}"/>
                        <p:inputText requiredMessage="#{txt.lbl_registro_tur} Se necesita un valor"    id="compPnl1_27"  value="#{gestionPatenteControlador.patenteActual.patNumRegTuristico}" 
                                     size="40"/>
                        <p:message for="compPnl1_27" display="icon"/>
                    </h:panelGrid>
                    <h:panelGrid columns="3">
                        <h:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_especialidad}"/>
                        <p:selectOneMenu requiredMessage="#{txt.lbl_especialidad} Se necesita un valor"  required="true" id="cmbEspTuris" 
                                         value="#{gestionPatenteControlador.catDetEspTurisActual}" style="width:250px"
                                         converter="#{catalogoDetalleConverter}" var="t">
                            <f:selectItem  itemLabel="Seleccione..." itemValue="" /> 
                            <f:selectItems var="tipTem"  
                                           value="#{gestionPatenteControlador.listEspTuris}" 
                                           itemLabel="#{tipTem.catdetTexto}" 
                                           itemValue="#{tipTem}"/> 
                            <p:column width="200" style="white-space: normal">  
                                <h:outputText escape="false" value="#{t.catdetTexto}" style="font-size: 10px"/> 
                            </p:column> 
                        </p:selectOneMenu>                               
                        <p:message for="cmbEspTuris" display="icon"/>

                        <p:outputLabel style="font-size: #{txt.font_size}" value="#{txt.lbl_obserba}"/>
                        <p:inputTextarea requiredMessage="#{txt.lbl_obserba} Se necesita un valor" style="width: 200px" id="compPnl1_29"  value="#{gestionPatenteControlador.patenteActual.patObservaciones}" 
                                         />
                        <p:message for="compPnl1_29" display="icon"/> 
                    </h:panelGrid>
                </p:panel>
                <p:panel header="Archivo" style="font-size: #{txt.font_size}">
                    <center><h:panelGrid>
                            <p:panel header="Adjuntar Documentos" style="font-size: #{txt.font_size}">
                                <h:panelGrid columns="3">
                                    <h:panelGrid width="150">
                                        <p:graphicImage value="/imagenes/subir.png" height="40px" width="40px"/>
                                    </h:panelGrid>
                                    <p:fileUpload fileUploadListener="#{gestionPatenteControlador.handleFileUpload}"  
                                                  mode="advanced"
                                                  dragDropSupport="false"
                                                  multiple="true"  
                                                  update=":frmPat:msgs,:frmPat:tabPrin:info"
                                                  sizeLimit="1000000"
                                                  allowTypes="/(\.|\/)(pdf|xls|xlsx|jpg)$/"
                                                  invalidSizeMessage="El archivo debe ser maximo 1MB"
                                                  label="Seleccione el archivo" 
                                                  uploadLabel="Cargar"
                                                  cancelLabel="Cancelar"
                                                  process="@this,info"  >                                                                                             
                                        <f:attribute name="tipoArchivo" value="Capacitación teórica" />
                                    </p:fileUpload>  
                                    <h:panelGroup id="info">
                                        <p:panel rendered="#{gestionPatenteControlador.listaFiles.size()>0}">
                                            <f:facet name="header">
                                                <h:outputText value="Archivos:" />
                                            </f:facet>
                                            <p:dataGrid  columns="1" value="#{gestionPatenteControlador.listaFiles}"  var="file" >
                                                <p:panel>
                                                    <h:panelGrid columns="2">
                                                        <h:panelGrid columns="4">
                                                            <h:outputText value="Achivo:" />
                                                            <h:outputText value="#{file.name}" />  
                                                            <h:outputText value=" " />
                                                            <p:column headerText="#{txt.eliminar_btn}" style="width:50px;text-align: center;font-size:12px;" >
                                                                <p:commandButton style="font-size:12px;" icon="ui-icon-trash"  
                                                                                 actionListener="#{gestionPatenteControlador.confirmaEliminarArchivo(file)}" 
                                                                                 process="@this" async="true" global="false" update=":frmPat:tabPrin,:frmPat:msgs">
                                                                    <p:confirm header="Confirmación"  message="¿Está seguro de eliminar el registro?" icon="ui-icon-alert" />
                                                                </p:commandButton>
                                                            </p:column>  
                                                        </h:panelGrid>
                                                    </h:panelGrid>
                                                </p:panel>
                                            </p:dataGrid>
                                        </p:panel>
                                    </h:panelGroup>
                                </h:panelGrid>   
                                <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                                    <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                </p:confirmDialog>



                            </p:panel>
                            <h:panelGrid id="tablaListaArchvosCargados">
                                <p:panel style="width: 750px" header="Archivos Cargados" rendered="#{gestionPatenteControlador.listadoArchivos.size()>0}">
                                    <p:dataTable    paginator="true" rows="5" id="tablaListaIndArchivos" value="#{gestionPatenteControlador.listadoArchivos}"  var="archivoColumna"   
                                                    selectionMode="single" rowKey="#{archivoColumna.patarcCodigo}"
                                                    styleClass="pdataTable_font"
                                                    currentPageReportTemplate="{currentPage} de {totalPages}">                              
                                        <p:column   headerText="Nombre Archivo" width="100" style="font-size:12px;">
                                            <h:outputText value="#{archivoColumna.patarcNombre}" style="font-size:12px;" />
                                        </p:column> 

                                        <p:column headerText="#{txt.eliminar_btn}" style="width:50px;text-align: center;font-size:12px;" >
                                            <p:commandButton style="font-size:12px;" icon="ui-icon-trash"  
                                                             actionListener="#{gestionPatenteControlador.confirmaEliminarPatArchivo(archivoColumna)}" 
                                                             process="@this" update=":frmPat:tabPrin:tablaListaArchvosCargados,:frmPat:tabPrin:tablaListaArchvosCargados:message" async="true" global="false">
                                                <p:confirm header="Confirmación" message="¿Está seguro de eliminar el registro?" icon="ui-icon-alert" />
                                            </p:commandButton>
                                        </p:column>  
                                    </p:dataTable>     
                                </p:panel>
                            </h:panelGrid>
                        </h:panelGrid>
                    </center>
                </p:panel>

                <!--<p:dialog header="Registrar Nuevo Propietario" widgetVar="dlgNPro" width="700" height="300">
                   <h:panelGrid id="panlDatosPropietarioNuevo" columns="6">
                            <p:outputLabel  style="font-size: {txt.font_size}" value="{txt.lbl_cedula}"/>
                            <p:inputText  id="txtCedN"  value="{gestionPatenteControlador.propietarioActual.proCi}" 
                                          maxlength="20" size="40"/>
                            <p:message for="txtCedN"/>

                            <p:outputLabel style="font-size: {txt.font_size}" value="{txt.lbl_propietario}"/>
                            <p:inputText   id="txtPropN"  value="{gestionPatenteControlador.propietarioActual.proRazonSocial}" 
                                         size="40"/>
                            <p:message for="txtPropN"/>

                            <p:outputLabel  style="font-size: {txt.font_size}" value="{txt.lbl_direccion}"/>
                            <p:inputText id="txtDirN"  value="{gestionPatenteControlador.propietarioActual.proDireccion}" 
                                         maxlength="1" size="40"/>
                            <p:message for="txtDirN"/>

                            <p:outputLabel style="font-size: {txt.font_size}" value="{txt.lbl_parroquia}"/>
                            <p:inputText  id="txtParrN"  value="{gestionPatenteControlador.propietarioActual.catdetCiudad.catdetTexto}" 
                                          maxlength="3" size="40"/>
                            <p:message for="txtParrN"/>

                            <p:outputLabel style="font-size: {txt.font_size}" value="{txt.lbl_sector}"/>
                            <p:inputText id="txtSecN"  value="{gestionPatenteControlador.propietarioActual.catdetCiudad.catdetTexto}" 
                                         maxlength="3" size="40"/>
                            <p:message for="txtSecN"/>

                            <p:outputLabel style="font-size: {txt.font_size}" value="{txt.lbl_telefono}"/>
                            <p:inputText id="txtTelN"  value="{gestionPatenteControlador.propietarioActual.proTelefono}" 
                                         maxlength="3" size="40"/>
                            <p:message for="txtTelN"/>

                            <p:outputLabel style="font-size: {txt.font_size}" value="{txt.lbl_correo}"/>
                            <p:inputText id="txtCorreoN"  value="{gestionPatenteControlador.propietarioActual.proCorreo}" 
                                         maxlength="3" size="40"/>
                            <p:message for="txtCorreoN"/>
                            <p:column/>
                            <h:panelGrid columns="2">
                                <p:commandButton value="{txt.btn_guardar}" process="@this,panlDatosPropietario" update="panlDatosPropietarioNuevo"
                                                 action="{gestionPatenteControlador.habilitaCamposPropietario()}"/>
                                <p:commandButton value="{txt.btn_cancelar}"/>
                            </h:panelGrid>
                            <p:column/>
                        </h:panelGrid> 
                </p:dialog>-->
            </h:panelGrid>

            <h:panelGrid columns="2">
                <p:commandButton value="#{txt.btn_guardar}" 
                                 id="btnGuardar" 
                                 action="#{gestionPatenteControlador.guardarPatente()}" 
                                 icon="ui-icon-disk"  
                                 process="@this,pnlContienePatente" 
                                 update=":frmPat:tabPrin:pnlContienePatente,:frmPat:msgs"
                                 async="true"
                                 global="false"

                                 />
                <p:commandButton value="#{txt.btn_cancelar}" 
                                 ajax="false"
                                 id="btnNuevo" 
                                 action="#{gestionPatenteControlador.inicializar()}" 
                                 icon="ui-icon-document"  
                                 process="@this,pnlContienePatente" 
                                 update=":frmPat:tabPrin:pnlContienePatente"
                                 async="true"
                                 global="false"
                                 />
            </h:panelGrid>    

        </center>
    </h:panelGrid>

</html>
